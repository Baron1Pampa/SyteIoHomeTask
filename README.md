# SyteIoHomeTask
## Introduction
This is as Syte.io home coding task given to author - Semyon Medvedik aka Baron Pampa.

Task Requirements in a nutshell:
* To Do CRUD Service
* Option to mark task as *COMPLETED*
* Define request/response messages with *google protobuf*
* Test Coverage
* Detail README.md - which you're reading right now

## Project Installation Prerequisites 
* Home task was implemented using [Java 18](https://www.oracle.com/java/technologies/downloads/#jdk18-windows).
* Home task language level - development was done using JAVA 16 techniques
* Build technology - [Gradle - installation guide](https://gradle.org/install/)
* Proto compiler - [Version 21.5](https://github.com/protocolbuffers/protobuf/releases/tag/v21.5), Installation guide can be found [here](https://grpc.io/docs/protoc-installation/)
* Entire development was done on Win 10 environment, using IntelliJ IDEA 2022.2.1 (Community Edition)

## How to:

* Build project and run all tests:
  * `.\gradlew.bat clean build` for Win
  * `./gradlew clean build` for Linux/Mac

* Deploy service on localhost:
  * `.\gradlew.bat clean bootRun` for Win
  * `./gradlew clean buildRun` for Linux/Mac

* Use service:
  * First thing first - all below `curl` request were generated by Postman v9.30.0
  * To create new **todo item** - issue `curl --location --request POST 'http://localhost:8080/tasks' 
    --header 'Content-Type: application/json' 
    --data-raw '{"title":"some title", "message":"some message"}'`
    * The resulting json should be of the following format: 
    ```json
    {
        "task": {
        "id": "56276158-f3ce-47ca-9fe6-c45dfaeb210e",
        "taskState": "NEW",
        "title": "some title",
        "message": "some message"
        }
      }
  * To get task by id - issue `curl --location --request GET 'http://localhost:8080/tasks/<taskId>' --header 'Content-Type: application/json`
    * If no task with given **taskId** present, 404 error will be thrown
  * To list all tasks - issue `curl --location --request GET 'http://localhost:8080/tasks' --header 'Content-Type: application/json`
    * This will return first 10 tasks - listing all tasks are always paginated, default offset is 0, default limit is 10
    * The result format is as following:
      ```json
      {
       "tasks": [<here will be tasks array in the format show in previous example>],
       "nextOffset": <nextOffset>
      }
    * If there are more items to fetch, `nextOffset` will be set to next Offset value
    * If there are no more items, `nextOffset` will be set to -1
    * For simplicity the items are always sorted by *id*
  * To list all tasks paginated - issue `curl --location --request GET 'http://localhost:8080/tasks?offset=<offset>&limit=<limit>' --header 'Content-Type: application/json`
    * Both *offset* and *limit* must be non-negative integers
    * If negative offset/limit provided, 400 error will be thrown
    * For simplicity, no *page size* aka *limit* limitations are provided. That doesn't mean it will fail on large numbers (below MAX_INT, naturally)
  * To update task state - issue `curl --location --request PUT 'http://localhost:8080/tasks/<taskId>' \
    --header 'Content-Type: application/json' \
    --data-raw '{"id":<taskId>, "taskState":<newState>}'`
    * taskState can be one of the following:
      ```
      NEW,
      IN_PROGRESS
      COMPLETED
      POSTPONED
      CANCELLED
      ``` 
    * For any other option, 400 error will be thrown
    * If no task with given **taskId** present, 404 error will be thrown
  * To delete task - issue `curl --location --request DELETE 'http://localhost:8080/tasks/<taskId>' --header 'Content-Type: application/json'`
    * If no task with given **taskId** present, 404 error will be thrown
      * In general, more common pattern is to ignore *not found* upon deletion, but IMHO the client/user should be aware of deletion success/failure
    
## Summary
Personally, I enjoyed writing this task. I hope we will proceed to the next step :)